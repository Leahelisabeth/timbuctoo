#!/bin/sh

filesToImport=$(grep '^CLASSPATH=' ./timbuctoo-instancev4/target/appassembler/bin/timbuctoo | tr ':' '\n' | sed 's|^[^/]*/||' | grep -v '^etc$' | sed 's|/[^/]*.jar$||' | sed 's|/\([^/]*\)/\([^/]*\)$|:\1:jar:\2|' | sed 's|^/||' | sed 's|/|.|g' | grep -v 'nl.knaw.huygens:security-client-agnostic' | grep -v 'nl.knaw.huygens:timbuctoo-instancev4' | sort | uniq)

java -jar mvn-downloader.jar \
  -visibility PUBLIC \
  -repo . \
  -maven https://repo1.maven.org/maven2 \
  -maven https://raw.githubusercontent.com/mbknor/mbknor.github.com/master/m2repo/releases  \
  -maven http://maven.huygens.knaw.nl/repository/ \
  ch.qos.logback:logback-classic:jar:1.1.3 \
  ch.qos.logback:logback-core:jar:1.1.3 \
  com.carrotsearch:hppc:jar:0.7.1 \
  com.fasterxml.jackson.core:jackson-annotations:jar:2.6.0 \
  com.fasterxml.jackson.core:jackson-core:jar:2.6.3 \
  com.fasterxml.jackson.core:jackson-databind:jar:2.6.3 \
  com.fasterxml.jackson.dataformat:jackson-dataformat-yaml:jar:2.6.3 \
  com.fasterxml.jackson.datatype:jackson-datatype-guava:jar:2.6.3 \
  com.fasterxml.jackson.datatype:jackson-datatype-jdk7:jar:2.6.3 \
  com.fasterxml.jackson.datatype:jackson-datatype-jdk8:jar:2.6.3 \
  com.fasterxml.jackson.datatype:jackson-datatype-joda:jar:2.6.3 \
  com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.6.3 \
  com.fasterxml.jackson.jaxrs:jackson-jaxrs-base:jar:2.6.3 \
  com.fasterxml.jackson.jaxrs:jackson-jaxrs-json-provider:jar:2.6.3 \
  com.fasterxml.jackson.module:jackson-module-afterburner:jar:2.6.3 \
  com.fasterxml.jackson.module:jackson-module-jaxb-annotations:jar:2.6.3 \
  com.fasterxml:classmate:jar:1.1.0 \
  com.github.andrewoma.dexx:collection:jar:0.6 \
  com.github.jsonld-java:jsonld-java:jar:0.7.0 \
  com.github.virtuald:curvesapi:jar:1.03 \
  com.google.code.findbugs:jsr305:jar:3.0.1 \
  com.google.code.gson:gson:jar:2.2.4 \
  com.google.guava:guava:jar:19.0 \
  com.googlecode.concurrentlinkedhashmap:concurrentlinkedhashmap-lru:jar:1.4.2 \
  com.javaslang:javaslang:jar:2.0.0-RC4 \
  com.jcabi:jcabi-log:jar:0.14 \
  com.jcabi:jcabi-manifests:jar:1.1 \
  com.kjetland.dropwizard:dropwizard-activemq:jar:0.3.13 \
  commons-cli:commons-cli:jar:1.3 \
  commons-codec:commons-codec:jar:1.9 \
  commons-collections:commons-collections:jar:3.0 \
  commons-configuration:commons-configuration:jar:1.10 \
  commons-io:commons-io:jar:2.4 \
  commons-lang:commons-lang:jar:2.6 \
  commons-net:commons-net:jar:3.3 \
  handle.net:handle-client:jar:7.3.1 \
  io.dropwizard.metrics:metrics-annotation:jar:3.1.2 \
  io.dropwizard.metrics:metrics-core:jar:3.1.2 \
  io.dropwizard.metrics:metrics-graphite:jar:3.1.2 \
  io.dropwizard.metrics:metrics-healthchecks:jar:3.1.2 \
  io.dropwizard.metrics:metrics-httpclient:jar:3.1.2 \
  io.dropwizard.metrics:metrics-jersey2:jar:3.1.2 \
  io.dropwizard.metrics:metrics-jetty9:jar:3.1.2 \
  io.dropwizard.metrics:metrics-json:jar:3.1.2 \
  io.dropwizard.metrics:metrics-jvm:jar:3.1.2 \
  io.dropwizard.metrics:metrics-logback:jar:3.1.2 \
  io.dropwizard.metrics:metrics-servlets:jar:3.1.2 \
  io.dropwizard.modules:dropwizard-java8:jar:0.9.0-1 \
  io.dropwizard:dropwizard-assets:jar:0.9.1 \
  io.dropwizard:dropwizard-client:jar:0.9.1 \
  io.dropwizard:dropwizard-configuration:jar:0.9.1 \
  io.dropwizard:dropwizard-core:jar:0.9.1 \
  io.dropwizard:dropwizard-forms:jar:0.9.1 \
  io.dropwizard:dropwizard-jackson:jar:0.9.1 \
  io.dropwizard:dropwizard-jersey:jar:0.9.1 \
  io.dropwizard:dropwizard-jetty:jar:0.9.1 \
  io.dropwizard:dropwizard-lifecycle:jar:0.9.1 \
  io.dropwizard:dropwizard-logging:jar:0.9.1 \
  io.dropwizard:dropwizard-metrics-graphite:jar:0.9.1 \
  io.dropwizard:dropwizard-metrics:jar:0.9.1 \
  io.dropwizard:dropwizard-servlets:jar:0.9.1 \
  io.dropwizard:dropwizard-util:jar:0.9.1 \
  io.dropwizard:dropwizard-validation:jar:0.9.1 \
  javax.annotation:javax.annotation-api:jar:1.2 \
  javax.servlet:javax.servlet-api:jar:3.1.0 \
  javax.validation:validation-api:jar:1.1.0.Final \
  javax.ws.rs:javax.ws.rs-api:jar:2.0.1 \
  jline:jline:jar:2.12 \
  joda-time:joda-time:jar:2.9 \
  me.moocar:logback-gelf:jar:0.12 \
  net.gini.dropwizard:dropwizard-gelf:jar:0.9.2-1 \
  net.sf.opencsv:opencsv:jar:2.3 \
  net.sourceforge.argparse4j:argparse4j:jar:0.6.0 \
  nl.knaw.huygens:huygens-persistence:jar:2.2.0 \
  nl.knaw.huygens:security-core:jar:2.2.2.4 \
  org.apache.activemq.protobuf:activemq-protobuf:jar:1.1 \
  org.apache.activemq:activemq-broker:jar:5.13.0 \
  org.apache.activemq:activemq-client:jar:5.13.0 \
  org.apache.activemq:activemq-jms-pool:jar:5.13.0 \
  org.apache.activemq:activemq-kahadb-store:jar:5.13.0 \
  org.apache.activemq:activemq-openwire-legacy:jar:5.13.0 \
  org.apache.commons:commons-csv:jar:1.0 \
  org.apache.commons:commons-lang3:jar:3.4 \
  org.apache.commons:commons-pool2:jar:2.4.2 \
  org.apache.geronimo.specs:geronimo-j2ee-management_1.1_spec:jar:1.0.1 \
  org.apache.geronimo.specs:geronimo-jms_1.1_spec:jar:1.1.1 \
  org.apache.geronimo.specs:geronimo-jta_1.0.1B_spec:jar:1.0.1 \
  org.apache.httpcomponents:httpclient-cache:jar:4.2.6 \
  org.apache.httpcomponents:httpclient:jar:4.5.1 \
  org.apache.httpcomponents:httpcore:jar:4.4.4 \
  org.apache.ivy:ivy:jar:2.3.0 \
  org.apache.jena:jena-arq:jar:3.1.0 \
  org.apache.jena:jena-base:jar:3.1.0 \
  org.apache.jena:jena-core:jar:3.1.0 \
  org.apache.jena:jena-iri:jar:3.1.0 \
  org.apache.jena:jena-shaded-guava:jar:3.1.0 \
  org.apache.jena:jena-tdb:jar:3.1.0 \
  org.apache.lucene:lucene-core:jar:3.6.2 \
  org.apache.poi:poi-ooxml-schemas:jar:3.14 \
  org.apache.poi:poi-ooxml:jar:3.14 \
  org.apache.poi:poi:jar:3.14 \
  org.apache.thrift:libthrift:jar:0.9.2 \
  org.apache.tinkerpop:gremlin-core:jar:3.1.0-incubating \
  org.apache.tinkerpop:gremlin-groovy:jar:3.1.0-incubating \
  org.apache.tinkerpop:gremlin-shaded:jar:3.1.0-incubating \
  org.apache.tinkerpop:neo4j-gremlin:jar:3.1.0-incubating \
  org.apache.xmlbeans:xmlbeans:jar:2.6.0 \
  org.codehaus.groovy:groovy-console:jar:2.4.1 \
  org.codehaus.groovy:groovy-groovysh:jar:2.4.1 \
  org.codehaus.groovy:groovy-json:jar:2.4.1 \
  org.codehaus.groovy:groovy-jsr223:jar:2.4.1 \
  org.codehaus.groovy:groovy-swing:jar:2.4.1 \
  org.codehaus.groovy:groovy-templates:jar:2.4.1 \
  org.codehaus.groovy:groovy-xml:jar:2.4.1 \
  org.codehaus.groovy:groovy:jar:2.4.1 \
  org.eclipse.jetty.toolchain.setuid:jetty-setuid-java:jar:1.0.3 \
  org.eclipse.jetty:jetty-continuation:jar:9.2.13.v20150730 \
  org.eclipse.jetty:jetty-http:jar:9.2.13.v20150730 \
  org.eclipse.jetty:jetty-io:jar:9.2.13.v20150730 \
  org.eclipse.jetty:jetty-security:jar:9.2.13.v20150730 \
  org.eclipse.jetty:jetty-server:jar:9.2.13.v20150730 \
  org.eclipse.jetty:jetty-servlet:jar:9.2.13.v20150730 \
  org.eclipse.jetty:jetty-servlets:jar:9.2.13.v20150730 \
  org.eclipse.jetty:jetty-util:jar:9.2.13.v20150730 \
  org.eclipse.jetty:jetty-webapp:jar:9.2.13.v20150730 \
  org.eclipse.jetty:jetty-xml:jar:9.2.13.v20150730 \
  org.fusesource.hawtbuf:hawtbuf:jar:1.11 \
  org.glassfish.hk2.external:aopalliance-repackaged:jar:2.4.0-b31 \
  org.glassfish.hk2.external:javax.inject:jar:2.4.0-b31 \
  org.glassfish.hk2:hk2-api:jar:2.4.0-b31 \
  org.glassfish.hk2:hk2-locator:jar:2.4.0-b31 \
  org.glassfish.hk2:hk2-utils:jar:2.4.0-b31 \
  org.glassfish.hk2:osgi-resource-locator:jar:1.0.1 \
  org.glassfish.jersey.bundles.repackaged:jersey-guava:jar:2.22.1 \
  org.glassfish.jersey.connectors:jersey-apache-connector:jar:2.22.1 \
  org.glassfish.jersey.containers:jersey-container-servlet-core:jar:2.22.1 \
  org.glassfish.jersey.containers:jersey-container-servlet:jar:2.22.1 \
  org.glassfish.jersey.core:jersey-client:jar:2.22.1 \
  org.glassfish.jersey.core:jersey-common:jar:2.22.1 \
  org.glassfish.jersey.core:jersey-server:jar:2.22.1 \
  org.glassfish.jersey.ext:jersey-bean-validation:jar:2.22.1 \
  org.glassfish.jersey.ext:jersey-metainf-services:jar:2.22.1 \
  org.glassfish.jersey.media:jersey-media-jaxb:jar:2.22.1 \
  org.glassfish.jersey.media:jersey-media-multipart:jar:2.22.1 \
  org.glassfish:javax.el:jar:3.0.0 \
  org.hamcrest:hamcrest-core:jar:1.3 \
  org.hibernate:hibernate-validator:jar:5.2.2.Final \
  org.javassist:javassist:jar:3.18.1-GA \
  org.javatuples:javatuples:jar:1.2 \
  org.jboss.logging:jboss-logging:jar:3.2.1.Final \
  org.json:json:jar:20090211 \
  org.jvnet.mimepull:mimepull:jar:1.9.6 \
  org.mindrot:jbcrypt:jar:0.3m \
  org.neo4j:neo4j-codegen:jar:2.3.0 \
  org.neo4j:neo4j-consistency-check-legacy:jar:2.3.0 \
  org.neo4j:neo4j-consistency-check:jar:2.3.0 \
  org.neo4j:neo4j-csv:jar:2.3.1 \
  org.neo4j:neo4j-cypher-compiler-1.9_2.11:jar:2.0.5 \
  org.neo4j:neo4j-cypher-compiler-2.2_2.11:jar:2.2.6 \
  org.neo4j:neo4j-cypher-compiler-2.3:jar:2.3.0 \
  org.neo4j:neo4j-cypher-frontend-2.3:jar:2.3.0 \
  org.neo4j:neo4j-cypher:jar:2.3.0 \
  org.neo4j:neo4j-function:jar:2.3.1 \
  org.neo4j:neo4j-graph-algo:jar:2.3.0 \
  org.neo4j:neo4j-graph-matching:jar:2.3.0 \
  org.neo4j:neo4j-io:jar:2.3.1 \
  org.neo4j:neo4j-jmx:jar:2.3.0 \
  org.neo4j:neo4j-kernel:jar:2.3.0 \
  org.neo4j:neo4j-logging:jar:2.3.1 \
  org.neo4j:neo4j-lucene-index:jar:2.3.0 \
  org.neo4j:neo4j-primitive-collections:jar:2.3.1 \
  org.neo4j:neo4j-tinkerpop-api-impl:jar:0.3-2.3.0 \
  org.neo4j:neo4j-tinkerpop-api:jar:0.1 \
  org.neo4j:neo4j-udc:jar:2.3.0 \
  org.neo4j:neo4j-unsafe:jar:2.3.1 \
  org.neo4j:neo4j:jar:2.3.0 \
  org.ow2.asm:asm:jar:5.0.2 \
  org.parboiled:parboiled-core:jar:1.1.7 \
  org.parboiled:parboiled-scala_2.11:jar:1.1.7 \
  org.scala-lang.modules:scala-parser-combinators_2.11:jar:1.0.4 \
  org.scala-lang:scala-library:jar:2.11.7 \
  org.scala-lang:scala-reflect:jar:2.11.7 \
  org.skyscreamer:jsonassert:jar:1.1.1 \
  org.slf4j:jcl-over-slf4j:jar:1.7.12 \
  org.slf4j:jul-to-slf4j:jar:1.7.12 \
  org.slf4j:log4j-over-slf4j:jar:1.7.12 \
  org.slf4j:slf4j-api:jar:1.7.7 \
  org.yaml:snakeyaml:jar:1.15 \
  stax:stax-api:jar:1.0.1 \
  uk.co.datumedge:hamcrest-json:jar:0.2 \
  xerces:xercesImpl:jar:2.11.0 \
  xml-apis:xml-apis:jar:1.4.01 \
  org.concordion:concordion:jar:1.5.1 \
  org.hamcrest:hamcrest-all:jar:1.3 \
  org.immutables:value:jar:2.2.12
